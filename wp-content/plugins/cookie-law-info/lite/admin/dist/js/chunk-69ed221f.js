(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69ed221f"],{"0769":function(e,t,a){"use strict";a("3b30")},"3b30":function(e,t,a){},"52a8":function(e,t,a){},a655:function(e){e.exports=JSON.parse('{"notice":{"elements":{"title":"","description":"","privacyLink":"","buttons":{"elements":{"accept":"","reject":"","settings":"","readMore":"","donotSell":""}},"closeButton":""}},"categoryPreview":{"elements":{"buttons":{"elements":{"save":""}}}},"preferenceCenter":{"elements":{"title":"","description":"","showMore":"","showLess":"","category":{"elements":{"alwaysEnabled":"","enable":"","disable":""}},"buttons":{"elements":{"accept":"","save":"","reject":""}},"closeButton":""}},"optoutPopup":{"elements":{"title":"","description":"","optOption":{"elements":{"title":"","enable":"","disable":""}},"gpcOption":{"elements":{"description":""}},"showLess":"","showMore":"","buttons":{"elements":{"cancel":"","confirm":""}},"closeButton":""}},"revisitConsent":{"elements":{"title":""}},"auditTable":{"elements":{"headers":{"elements":{"id":"","duration":"","description":""}},"message":""}},"videoPlaceholder":{"elements":{"title":""}}}')},ac1d:function(e,t,a){"use strict";a("e2e6")},ad98:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$route.params.language?a("div",[a("transition",{attrs:{name:"fade"}},[a("router-view")],1)],1):a("div",{staticClass:"cky-section cky-zero--padding cky-zero--margin"},[a("div",{staticClass:"cky-section-header cky-align-center"},[a("div",{staticClass:"cky-section-title"},[a("h3",[e._v(e._s(e.$i18n.__("Languages","cookie-law-info")))])]),a("div",{staticClass:"cky-section-header-actions cky-align-center"},[a("button",{staticClass:"cky-button",on:{click:e.openLanguageModal}},[e._v(" + "+e._s(e.$i18n.__("Add Language","cookie-law-info"))+" ")])])]),a("div",{staticClass:"cky-section-content"},[a("div",{staticClass:"cky-row"},[a("div",{staticClass:"cky-col-12"},[a("div",{staticClass:"cky-consent-language-lists"},[a("table",{staticClass:"wp-list-table cky-table"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$i18n.__("Language List","cookie-law-info")))]),a("th",[e._v(e._s(e.$i18n.__("Language Code","cookie-law-info")))]),a("th"),a("th")])]),e.loading?a("tbody",[a("tr",[a("td",[a("p",{staticClass:"cky-loading-text"},[a("cky-loader"),e._v(" "+e._s(e.$i18n.__("Loading languages","cookie-law-info"))+" ")],1)])])]):a("tbody",e._l(e.selectedLanguages,(function(t){return a("tr",{key:t.code},[a("td",[e._v(e._s(t.name))]),a("td",{staticClass:"cky-language-table-col"},[e._v(" "+e._s(t.code)+" ")]),a("td",[e.defaultLanguage==t.code?a("div",{staticClass:"cky-align-center"},[a("cky-badge",{attrs:{title:e.$i18n.__("Default","cookie-law-info"),type:"info"}})],1):e._e()]),a("td",{staticClass:"cky-language-table-col-actions"},[a("div",{staticClass:"cky-row"},[a("div",{staticClass:"cky-col"},[a("div",{staticClass:"cky-justify-end"},[a("router-link",{attrs:{to:"languages/edit/"+t.code,custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.navigate;return[a("a",{staticClass:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcky-button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcky-button-secondary\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcky-button-small\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcky-button-icon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t",on:{click:s}},[a("cky-icon",{attrs:{icon:"editAlt",width:"13"}}),e._v(" "+e._s(e.$i18n.__("Edit Content","cookie-law-info"))+" ")],1)]}}],null,!0)}),a("div",{staticClass:"cky-languages-more-actions",attrs:{disabled:e.defaultLanguage==t.code}},[a("button",{staticClass:"cky-button cky-button-secondary",attrs:{"data-type":"icon"}},[e._v(" ... ")]),a("div",{staticClass:"cky-languages-more-actions-list"},[a("ul",[a("li",[e.defaultLanguage===t.code?a("cky-popper",{attrs:{content:e.$i18n.__("You can't delete the default language.","cookie-law-info")}},[a("a",{class:{"cky-disabled":e.defaultLanguage==t.code},on:{click:function(a){return e.deleteLanguage(t)}}},[e._v(e._s(e.$i18n.__("Delete","cookie-law-info"))+" ")])]):a("a",{on:{click:function(a){return e.deleteLanguage(t)}}},[e._v(e._s(e.$i18n.__("Delete","cookie-law-info"))+" ")])],1),a("li",[a("a",{class:{"cky-disabled":e.defaultLanguage==t.code},on:{click:function(a){return e.setDefault(t,"default")}}},[e._v(e._s(e.$i18n.__("Set as default","cookie-law-info")))])])])])])],1)])])])])})),0)])])])])]),a("cky-language-selector",{ref:"ckyLanguageSelector"})],1)},n=[],i=a("a655"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("cky-modal",{ref:"ckyLanguagesModal",staticClass:"cky-app-modal-languages",on:{close:e.closeLanguageModal},scopedSlots:e._u([{key:"header",fn:function(){return[s("h4",[e._v(e._s(e.$i18n.__("Add language","cookie-law-info")))])]},proxy:!0},{key:"body",fn:function(){return[s("div",{staticClass:"cky-row"},[s("div",{staticClass:"cky-col-12"},[s("cky-dropdown",{ref:"languageSelector",staticClass:"cky-dropdown-languages",attrs:{sticky:!0,text:e.$i18n.__("Select prefered language(s)","cookie-law-info"),active:!0},on:{ckyToggleDropDown:e.toggleDropDown}},[s("div",{staticClass:"cky-dropdown-search-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],ref:"ckySearchInput",staticClass:"cky-form-control",attrs:{type:"text",placeholder:e.$i18n.__("Search...","cookie-law-info")},domProps:{value:e.searchText},on:{input:function(t){t.target.composing||(e.searchText=t.target.value)}}})]),s("ul",e._l(e.filterLanguages,(function(t){return s("li",{key:t.code},[s("div",{staticClass:"cky-form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tempSelectedLanguages,expression:"tempSelectedLanguages"}],attrs:{type:"checkbox",id:"cky-checkbox-language-"+t.code,disabled:e.isExist(t.code)},domProps:{value:t.code,checked:Array.isArray(e.tempSelectedLanguages)?e._i(e.tempSelectedLanguages,t.code)>-1:e.tempSelectedLanguages},on:{change:function(a){var s=e.tempSelectedLanguages,n=a.target,i=!!n.checked;if(Array.isArray(s)){var c=t.code,o=e._i(s,c);n.checked?o<0&&(e.tempSelectedLanguages=s.concat([c])):o>-1&&(e.tempSelectedLanguages=s.slice(0,o).concat(s.slice(o+1)))}else e.tempSelectedLanguages=i}}}),s("label",{staticClass:"cky-label",attrs:{for:"cky-checkbox-language-"+t.code}},[e._v(e._s(t.name)+"Â ("+e._s(t.code)+")")])]),!e.isTranslated(t.code)&&e.isAdded(t.code)?s("span",{staticClass:"cky-language-notice"},[s("img",{attrs:{src:a("d645"),alt:"alert-icon"}}),s("span",{staticClass:"cky-notice-inner"},[e._v(" "+e._s(e.$i18n.__("Translations not available","cookie-law-info"))+" ")])]):e._e()])})),0)])],1)]),s("div",{staticClass:"cky-row"},[s("div",{staticClass:"cky-col-12"},[s("Transition",[s("cky-notice",{directives:[{name:"show",rawName:"v-show",value:!e.checkIfTranslated&&e.visible,expression:"!checkIfTranslated && visible"}],staticStyle:{"margin-top":"15px"},attrs:{type:"warning"}},[s("p",[e._v(" "+e._s(e.$i18n.__("Note: Translations are not available for some of the languages you have added, so the banner content that has not been translated will be displayed in English unless you add translations for these languages manually.","cookie-law-info"))+" ")])])],1)],1)])]},proxy:!0},{key:"footer",fn:function(){return[s("div",{staticClass:"cky-app-modal-actions cky-justify-end"},[s("div",{staticClass:"cky-action-languages cky-actions-group cky-justify-end"},[s("button",{staticClass:"cky-button cky-button-secondary",on:{click:e.close}},[e._v(" Cancel ")]),s("button",{staticClass:"cky-button cky-button-primary",attrs:{disabled:e.disabled},on:{click:e.addSelectedLanguages}},[e._v(" Add ")])])])]},proxy:!0}])})},o=[],l=a("8a80"),r=a("c2c9"),u=a("f61e"),d=a("462b"),g={name:"CkyLanguageSelector",components:{CkyModal:l["a"],CkyDropdown:r["a"],CkyNotice:d["a"]},data(){return{searchText:"",tempSelectedLanguages:[],languages:{},currentTab:"layout",searchLanguages:[],filteredLanguages:[],visible:!0}},methods:{showIcon(e){return!!e.icon},async open(){await this.$refs.ckyLanguagesModal.show(),this.$refs.ckySearchInput.focus(),this.searchText="",this.getConfiguredLanguages()},close(){this.$refs.ckyLanguagesModal.close()},closeLanguageModal(){this.tempSelectedLanguages=this.selectedLanguages},getAvailableLanguages(){this.languages=this.$store.state.languages.available},getConfiguredLanguages(){this.tempSelectedLanguages=this.selectedLanguages},async addSelectedLanguages(){try{this.$store.dispatch("languages/setSelected",this.tempSelectedLanguages),await this.$store.dispatch("languages/saveSelected"),this.close(),await this.purgeCache(),await this.$store.dispatch("banners/reInit"),await this.$store.dispatch("cookies/reInit")}catch(e){console.log(e),this.$root.$emit("triggerNotification",{type:"error",message:this.$i18n.__("Problem occurred while adding languages. Please try again later!","cookie-law-info")})}},isTranslated(e="en"){const t=u["a"].getTranslatedLanguages();return t.includes(e)},isAdded(e="en"){const t=this.tempSelectedLanguages;return t.includes(e)},isExist(e="en"){const t=this.selectedLanguages;return t.includes(e)},toggleDropDown(){this.visible=!this.visible}},computed:{currentTabComponent:function(){return"tab-"+this.currentTab.toLowerCase()},selectedLanguages:function(){return this.$store.state.languages.selected},filterLanguages(){if(this.languages.length>0){let e=[],t=[],a=[];return this.languages.forEach(a=>{this.selectedLanguages.includes(a.code)?e.push(a):t.push(a)}),a=e.concat(t),a.filter(e=>e.name.toLowerCase().includes(this.searchText.toLowerCase()))}return[]},disabled(){const e=this.tempSelectedLanguages.filter(e=>!this.selectedLanguages.includes(e));return!e.length},checkIfTranslated(){let e=!0;return this.tempSelectedLanguages.forEach(t=>{if(!1===this.isTranslated(t))return e=!1,!1}),e}},watch:{},mounted(){this.getAvailableLanguages(),this.getConfiguredLanguages()}},y=g,h=(a("d612"),a("2877")),k=Object(h["a"])(y,c,o,!1,null,null,null),p=k.exports,f=a("1f3d"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{class:e.badgeClass},[e._v(e._s(e.title))])},v=[],m={name:"CkyBadge",props:{type:{type:String,default:"success"},title:{type:String,default:""}},computed:{badgeClass(){return{"cky-badge":!0,"cky-badge-info":"info"===this.type,"cky-badge-error":"error"===this.type,"cky-badge-success":"success"===this.type,"cky-badge-warning":"warning"===this.type}}}},_=m,w=Object(h["a"])(_,b,v,!1,null,null,null),L=w.exports,C=a("c4aa"),$=a("9e47"),S=a("2f62"),x={name:"Languages",components:{CkyLanguageSelector:p,CkyIcon:f["a"],CkyBadge:L,CkyLoader:$["a"]},data(){return{tempSelectedLanguages:[],languages:{},isLanguageModalVisible:!1,currentTab:"layout",loading:!0,defaultContent:i}},methods:{loadBanner:async function(){try{await C["a"].getActiveBanner()}catch(e){console.error(e)}},showIcon(e){return!!e.icon},openLanguageModal(){this.$refs.ckyLanguageSelector.open()},loadEditPage:function(e){const t=this.$router.getRouteByName("edit");this.$router.push({name:t.name,query:{cky_lang:e.code}})},deleteLanguage:async function(e){if(e.code!==this.defaultLanguage&&confirm(this.$i18n.__("Are you sure you want to delete this language?","cookie-law-info"))){let t=e.code;if(t){let e=await u["a"].deleteLanguage(t);e?this.$root.$emit("triggerNotification",{type:"success",message:this.$i18n.__("Successfully deleted the language","cookie-law-info")}):this.$root.$emit("triggerNotification",{type:"error",message:this.$i18n.__("Failed","cookie-law-info")})}}},setDefault:async function(e){await this.$store.dispatch("languages/setDefault",e.code),await this.$store.dispatch("languages/setCurrent",e.code),await this.$store.dispatch("languages/saveDefault")}},computed:{...Object(S["d"])("languages",["default","selected","available"]),currentTabComponent:function(){return"tab-"+this.currentTab.toLowerCase()},availableLanguages:function(){return this.available},selectedLanguages:function(){return u["a"].getLanguageDetails(this.available,this.selected)},defaultLanguage:function(){return this.default},banner(){return this.$store.state.banners.current}},async created(){this.loading=!0,await this.loadBanner(),this.loading=!1}},T=x,D=(a("0769"),Object(h["a"])(T,s,n,!1,null,null,null));t["default"]=D.exports},c2c9:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],staticClass:"cky-dropdown",class:{open:e.visible}},[a("button",{staticClass:"cky-button-icon cky-dropdown-anchor",attrs:{disabled:e.disabled},domProps:{innerHTML:e._s(e.text)},on:{click:function(t){return e.toggle()}}}),a("div",{staticClass:"cky-dropdown-content",on:{click:function(t){return e.hide()}}},[e._t("default")],2)])},n=[],i={name:"CkyDropdown",props:{text:{type:String,default:""},disabled:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1},active:{type:Boolean,default:!1}},data(){return{visible:!1}},methods:{toggle(){this.visible=!this.visible,this.$emit("ckyToggleDropDown")},hide(){this.sticky||(this.visible=!1)}},mounted(){this.visible=this.active}},c=i,o=(a("ac1d"),a("2877")),l=Object(o["a"])(c,s,n,!1,null,null,null);t["a"]=l.exports},d612:function(e,t,a){"use strict";a("52a8")},d645:function(e,t,a){e.exports=a.p+"img/action-alert.svg"},e2e6:function(e,t,a){}}]);